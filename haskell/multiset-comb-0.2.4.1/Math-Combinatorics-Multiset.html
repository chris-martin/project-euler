<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Math.Combinatorics.Multiset</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Math.Combinatorics.Multiset.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">multiset-comb-0.2.4.1: Combinatorial algorithms over multisets</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Math.Combinatorics.Multiset</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">The <code>Multiset</code> type</a><ul><li><a href="#g:2">Conversions</a></li><li><a href="#g:3">Operations</a></li></ul></li><li><a href="#g:4">Permutations</a></li><li><a href="#g:5">Partitions</a></li><li><a href="#g:6">Submultisets</a></li><li><a href="#g:7">Cycles and bracelets</a></li><li><a href="#g:8">Miscellaneous</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Efficient combinatorial algorithms over multisets, including
   generating all permutations, partitions, subsets, cycles, and
   other combinatorial structures based on multisets.  Note that an
   <code><a href="../base-4.11.1.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a></code> or <code><a href="../base-4.11.1.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a></code> instance on the elements is <em>not</em> required; the
   algorithms are careful to keep track of which things are (by
   construction) equal to which other things, so equality testing is
   not needed.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">type</span> <a href="#t:Count">Count</a> = <a href="../base-4.11.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li class="src short"><span class="keyword">newtype</span> <a href="#t:Multiset">Multiset</a> a = <a href="#v:MS">MS</a> {<ul class="subs"><li><a href="#v:toCounts">toCounts</a> :: [(a, <a href="Math-Combinatorics-Multiset.html#t:Count" title="Math.Combinatorics.Multiset">Count</a>)]</li></ul>}</li><li class="src short"><a href="#v:emptyMS">emptyMS</a> :: <a href="Math-Combinatorics-Multiset.html#t:Multiset" title="Math.Combinatorics.Multiset">Multiset</a> a</li><li class="src short"><a href="#v:singletonMS">singletonMS</a> :: a -&gt; <a href="Math-Combinatorics-Multiset.html#t:Multiset" title="Math.Combinatorics.Multiset">Multiset</a> a</li><li class="src short"><a href="#v:consMS">consMS</a> :: (a, <a href="Math-Combinatorics-Multiset.html#t:Count" title="Math.Combinatorics.Multiset">Count</a>) -&gt; <a href="Math-Combinatorics-Multiset.html#t:Multiset" title="Math.Combinatorics.Multiset">Multiset</a> a -&gt; <a href="Math-Combinatorics-Multiset.html#t:Multiset" title="Math.Combinatorics.Multiset">Multiset</a> a</li><li class="src short"><a href="#v:-43-:">(+:)</a> :: (a, <a href="Math-Combinatorics-Multiset.html#t:Count" title="Math.Combinatorics.Multiset">Count</a>) -&gt; <a href="Math-Combinatorics-Multiset.html#t:Multiset" title="Math.Combinatorics.Multiset">Multiset</a> a -&gt; <a href="Math-Combinatorics-Multiset.html#t:Multiset" title="Math.Combinatorics.Multiset">Multiset</a> a</li><li class="src short"><a href="#v:toList">toList</a> :: <a href="Math-Combinatorics-Multiset.html#t:Multiset" title="Math.Combinatorics.Multiset">Multiset</a> a -&gt; [a]</li><li class="src short"><a href="#v:fromList">fromList</a> :: <a href="../base-4.11.1.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> a =&gt; [a] -&gt; <a href="Math-Combinatorics-Multiset.html#t:Multiset" title="Math.Combinatorics.Multiset">Multiset</a> a</li><li class="src short"><a href="#v:fromListEq">fromListEq</a> :: <a href="../base-4.11.1.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> a =&gt; [a] -&gt; <a href="Math-Combinatorics-Multiset.html#t:Multiset" title="Math.Combinatorics.Multiset">Multiset</a> a</li><li class="src short"><a href="#v:fromDistinctList">fromDistinctList</a> :: [a] -&gt; <a href="Math-Combinatorics-Multiset.html#t:Multiset" title="Math.Combinatorics.Multiset">Multiset</a> a</li><li class="src short"><a href="#v:fromCounts">fromCounts</a> :: [(a, <a href="Math-Combinatorics-Multiset.html#t:Count" title="Math.Combinatorics.Multiset">Count</a>)] -&gt; <a href="Math-Combinatorics-Multiset.html#t:Multiset" title="Math.Combinatorics.Multiset">Multiset</a> a</li><li class="src short"><a href="#v:getCounts">getCounts</a> :: <a href="Math-Combinatorics-Multiset.html#t:Multiset" title="Math.Combinatorics.Multiset">Multiset</a> a -&gt; [<a href="Math-Combinatorics-Multiset.html#t:Count" title="Math.Combinatorics.Multiset">Count</a>]</li><li class="src short"><a href="#v:size">size</a> :: <a href="Math-Combinatorics-Multiset.html#t:Multiset" title="Math.Combinatorics.Multiset">Multiset</a> a -&gt; <a href="../base-4.11.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a></li><li class="src short"><a href="#v:disjUnion">disjUnion</a> :: <a href="Math-Combinatorics-Multiset.html#t:Multiset" title="Math.Combinatorics.Multiset">Multiset</a> a -&gt; <a href="Math-Combinatorics-Multiset.html#t:Multiset" title="Math.Combinatorics.Multiset">Multiset</a> a -&gt; <a href="Math-Combinatorics-Multiset.html#t:Multiset" title="Math.Combinatorics.Multiset">Multiset</a> a</li><li class="src short"><a href="#v:disjUnions">disjUnions</a> :: [<a href="Math-Combinatorics-Multiset.html#t:Multiset" title="Math.Combinatorics.Multiset">Multiset</a> a] -&gt; <a href="Math-Combinatorics-Multiset.html#t:Multiset" title="Math.Combinatorics.Multiset">Multiset</a> a</li><li class="src short"><a href="#v:permutations">permutations</a> :: <a href="Math-Combinatorics-Multiset.html#t:Multiset" title="Math.Combinatorics.Multiset">Multiset</a> a -&gt; [[a]]</li><li class="src short"><a href="#v:permutationsRLE">permutationsRLE</a> :: <a href="Math-Combinatorics-Multiset.html#t:Multiset" title="Math.Combinatorics.Multiset">Multiset</a> a -&gt; [[(a, <a href="Math-Combinatorics-Multiset.html#t:Count" title="Math.Combinatorics.Multiset">Count</a>)]]</li><li class="src short"><span class="keyword">type</span> <a href="#t:Vec">Vec</a> = [<a href="Math-Combinatorics-Multiset.html#t:Count" title="Math.Combinatorics.Multiset">Count</a>]</li><li class="src short"><a href="#v:vPartitions">vPartitions</a> :: <a href="Math-Combinatorics-Multiset.html#t:Vec" title="Math.Combinatorics.Multiset">Vec</a> -&gt; [<a href="Math-Combinatorics-Multiset.html#t:Multiset" title="Math.Combinatorics.Multiset">Multiset</a> <a href="Math-Combinatorics-Multiset.html#t:Vec" title="Math.Combinatorics.Multiset">Vec</a>]</li><li class="src short"><a href="#v:partitions">partitions</a> :: <a href="Math-Combinatorics-Multiset.html#t:Multiset" title="Math.Combinatorics.Multiset">Multiset</a> a -&gt; [<a href="Math-Combinatorics-Multiset.html#t:Multiset" title="Math.Combinatorics.Multiset">Multiset</a> (<a href="Math-Combinatorics-Multiset.html#t:Multiset" title="Math.Combinatorics.Multiset">Multiset</a> a)]</li><li class="src short"><a href="#v:splits">splits</a> :: <a href="Math-Combinatorics-Multiset.html#t:Multiset" title="Math.Combinatorics.Multiset">Multiset</a> a -&gt; [(<a href="Math-Combinatorics-Multiset.html#t:Multiset" title="Math.Combinatorics.Multiset">Multiset</a> a, <a href="Math-Combinatorics-Multiset.html#t:Multiset" title="Math.Combinatorics.Multiset">Multiset</a> a)]</li><li class="src short"><a href="#v:kSubsets">kSubsets</a> :: <a href="Math-Combinatorics-Multiset.html#t:Count" title="Math.Combinatorics.Multiset">Count</a> -&gt; <a href="Math-Combinatorics-Multiset.html#t:Multiset" title="Math.Combinatorics.Multiset">Multiset</a> a -&gt; [<a href="Math-Combinatorics-Multiset.html#t:Multiset" title="Math.Combinatorics.Multiset">Multiset</a> a]</li><li class="src short"><a href="#v:cycles">cycles</a> :: <a href="Math-Combinatorics-Multiset.html#t:Multiset" title="Math.Combinatorics.Multiset">Multiset</a> a -&gt; [[a]]</li><li class="src short"><a href="#v:bracelets">bracelets</a> :: <a href="Math-Combinatorics-Multiset.html#t:Multiset" title="Math.Combinatorics.Multiset">Multiset</a> a -&gt; [[a]]</li><li class="src short"><a href="#v:genFixedBracelets">genFixedBracelets</a> :: <a href="../base-4.11.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; [(<a href="../base-4.11.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a>, <a href="../base-4.11.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a>)] -&gt; [Bracelet]</li><li class="src short"><a href="#v:sequenceMS">sequenceMS</a> :: <a href="Math-Combinatorics-Multiset.html#t:Multiset" title="Math.Combinatorics.Multiset">Multiset</a> [a] -&gt; [<a href="Math-Combinatorics-Multiset.html#t:Multiset" title="Math.Combinatorics.Multiset">Multiset</a> a]</li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>The <code><a href="Math-Combinatorics-Multiset.html#t:Multiset" title="Math.Combinatorics.Multiset">Multiset</a></code> type</h1></a><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:Count" class="def">Count</a> = <a href="../base-4.11.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="src/Math.Combinatorics.Multiset.html#Count" class="link">Source</a> <a href="#t:Count" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:Multiset" class="def">Multiset</a> a <a href="src/Math.Combinatorics.Multiset.html#Multiset" class="link">Source</a> <a href="#t:Multiset" class="selflink">#</a></p><div class="doc"><p>A multiset is represented as a list of (element, count) pairs.
   We maintain the invariants that the counts are always positive,
   and no element ever appears more than once.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:MS" class="def">MS</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:toCounts" class="def">toCounts</a> :: [(a, <a href="Math-Combinatorics-Multiset.html#t:Count" title="Math.Combinatorics.Multiset">Count</a>)]</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><details id="i:Multiset" open="open"><summary>Instances</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Multiset:Functor:1"></span> <a href="../base-4.11.1.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> <a href="Math-Combinatorics-Multiset.html#t:Multiset" title="Math.Combinatorics.Multiset">Multiset</a></span> <a href="src/Math.Combinatorics.Multiset.html#line-74" class="link">Source</a> <a href="#t:Multiset" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Multiset:Functor:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Math-Combinatorics-Multiset.html">Math.Combinatorics.Multiset</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fmap">fmap</a> :: (a -&gt; b) -&gt; <a href="Math-Combinatorics-Multiset.html#t:Multiset" title="Math.Combinatorics.Multiset">Multiset</a> a -&gt; <a href="Math-Combinatorics-Multiset.html#t:Multiset" title="Math.Combinatorics.Multiset">Multiset</a> b <a href="#v:fmap" class="selflink">#</a></p><p class="src"><a href="#v:-60--36-">(&lt;$)</a> :: a -&gt; <a href="Math-Combinatorics-Multiset.html#t:Multiset" title="Math.Combinatorics.Multiset">Multiset</a> b -&gt; <a href="Math-Combinatorics-Multiset.html#t:Multiset" title="Math.Combinatorics.Multiset">Multiset</a> a <a href="#v:-60--36-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Multiset:Show:2"></span> <a href="../base-4.11.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> a =&gt; <a href="../base-4.11.1.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Math-Combinatorics-Multiset.html#t:Multiset" title="Math.Combinatorics.Multiset">Multiset</a> a)</span> <a href="src/Math.Combinatorics.Multiset.html#line-74" class="link">Source</a> <a href="#t:Multiset" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Multiset:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Math-Combinatorics-Multiset.html">Math.Combinatorics.Multiset</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base-4.11.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Math-Combinatorics-Multiset.html#t:Multiset" title="Math.Combinatorics.Multiset">Multiset</a> a -&gt; <a href="../base-4.11.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Math-Combinatorics-Multiset.html#t:Multiset" title="Math.Combinatorics.Multiset">Multiset</a> a -&gt; <a href="../base-4.11.1.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Math-Combinatorics-Multiset.html#t:Multiset" title="Math.Combinatorics.Multiset">Multiset</a> a] -&gt; <a href="../base-4.11.1.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:emptyMS" class="def">emptyMS</a> :: <a href="Math-Combinatorics-Multiset.html#t:Multiset" title="Math.Combinatorics.Multiset">Multiset</a> a <a href="src/Math.Combinatorics.Multiset.html#emptyMS" class="link">Source</a> <a href="#v:emptyMS" class="selflink">#</a></p><div class="doc"><p>A multiset with no values in it.</p></div></div><div class="top"><p class="src"><a id="v:singletonMS" class="def">singletonMS</a> :: a -&gt; <a href="Math-Combinatorics-Multiset.html#t:Multiset" title="Math.Combinatorics.Multiset">Multiset</a> a <a href="src/Math.Combinatorics.Multiset.html#singletonMS" class="link">Source</a> <a href="#v:singletonMS" class="selflink">#</a></p><div class="doc"><p>Create a multiset with only a single value in it.</p></div></div><div class="top"><p class="src"><a id="v:consMS" class="def">consMS</a> :: (a, <a href="Math-Combinatorics-Multiset.html#t:Count" title="Math.Combinatorics.Multiset">Count</a>) -&gt; <a href="Math-Combinatorics-Multiset.html#t:Multiset" title="Math.Combinatorics.Multiset">Multiset</a> a -&gt; <a href="Math-Combinatorics-Multiset.html#t:Multiset" title="Math.Combinatorics.Multiset">Multiset</a> a <a href="src/Math.Combinatorics.Multiset.html#consMS" class="link">Source</a> <a href="#v:consMS" class="selflink">#</a></p><div class="doc"><p>Add an element with multiplicity to a multiset.  Precondition:
   the new element is distinct from all elements already in the
   multiset.</p></div></div><div class="top"><p class="src"><a id="v:-43-:" class="def">(+:)</a> :: (a, <a href="Math-Combinatorics-Multiset.html#t:Count" title="Math.Combinatorics.Multiset">Count</a>) -&gt; <a href="Math-Combinatorics-Multiset.html#t:Multiset" title="Math.Combinatorics.Multiset">Multiset</a> a -&gt; <a href="Math-Combinatorics-Multiset.html#t:Multiset" title="Math.Combinatorics.Multiset">Multiset</a> a <a href="src/Math.Combinatorics.Multiset.html#%2B%3A" class="link">Source</a> <a href="#v:-43-:" class="selflink">#</a></p><div class="doc"><p>A convenient shorthand for <code><a href="Math-Combinatorics-Multiset.html#v:consMS" title="Math.Combinatorics.Multiset">consMS</a></code>.</p></div></div><a href="#g:2" id="g:2"><h2>Conversions</h2></a><div class="top"><p class="src"><a id="v:toList" class="def">toList</a> :: <a href="Math-Combinatorics-Multiset.html#t:Multiset" title="Math.Combinatorics.Multiset">Multiset</a> a -&gt; [a] <a href="src/Math.Combinatorics.Multiset.html#toList" class="link">Source</a> <a href="#v:toList" class="selflink">#</a></p><div class="doc"><p>Convert a multiset to a list.</p></div></div><div class="top"><p class="src"><a id="v:fromList" class="def">fromList</a> :: <a href="../base-4.11.1.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> a =&gt; [a] -&gt; <a href="Math-Combinatorics-Multiset.html#t:Multiset" title="Math.Combinatorics.Multiset">Multiset</a> a <a href="src/Math.Combinatorics.Multiset.html#fromList" class="link">Source</a> <a href="#v:fromList" class="selflink">#</a></p><div class="doc"><p>Efficiently convert a list to a multiset, given an <code><a href="../base-4.11.1.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a></code> instance
   for the elements.  This method is provided just for convenience.
   you can also use <code><a href="Math-Combinatorics-Multiset.html#v:fromListEq" title="Math.Combinatorics.Multiset">fromListEq</a></code> with only an <code><a href="../base-4.11.1.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a></code> instance, or
   construct <code><a href="Math-Combinatorics-Multiset.html#t:Multiset" title="Math.Combinatorics.Multiset">Multiset</a></code>s directly using <code><a href="Math-Combinatorics-Multiset.html#v:fromCounts" title="Math.Combinatorics.Multiset">fromCounts</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:fromListEq" class="def">fromListEq</a> :: <a href="../base-4.11.1.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> a =&gt; [a] -&gt; <a href="Math-Combinatorics-Multiset.html#t:Multiset" title="Math.Combinatorics.Multiset">Multiset</a> a <a href="src/Math.Combinatorics.Multiset.html#fromListEq" class="link">Source</a> <a href="#v:fromListEq" class="selflink">#</a></p><div class="doc"><p>Convert a list to a multiset, given an <code><a href="../base-4.11.1.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a></code> instance for the
   elements.</p></div></div><div class="top"><p class="src"><a id="v:fromDistinctList" class="def">fromDistinctList</a> :: [a] -&gt; <a href="Math-Combinatorics-Multiset.html#t:Multiset" title="Math.Combinatorics.Multiset">Multiset</a> a <a href="src/Math.Combinatorics.Multiset.html#fromDistinctList" class="link">Source</a> <a href="#v:fromDistinctList" class="selflink">#</a></p><div class="doc"><p>Make a multiset with one copy of each element from a list of
   distinct elements.</p></div></div><div class="top"><p class="src"><a id="v:fromCounts" class="def">fromCounts</a> :: [(a, <a href="Math-Combinatorics-Multiset.html#t:Count" title="Math.Combinatorics.Multiset">Count</a>)] -&gt; <a href="Math-Combinatorics-Multiset.html#t:Multiset" title="Math.Combinatorics.Multiset">Multiset</a> a <a href="src/Math.Combinatorics.Multiset.html#fromCounts" class="link">Source</a> <a href="#v:fromCounts" class="selflink">#</a></p><div class="doc"><p>Construct a <code><a href="Math-Combinatorics-Multiset.html#t:Multiset" title="Math.Combinatorics.Multiset">Multiset</a></code> from a list of (element, count) pairs.
   Precondition: the counts must all be positive, and there must not
   be any duplicate elements.</p></div></div><div class="top"><p class="src"><a id="v:getCounts" class="def">getCounts</a> :: <a href="Math-Combinatorics-Multiset.html#t:Multiset" title="Math.Combinatorics.Multiset">Multiset</a> a -&gt; [<a href="Math-Combinatorics-Multiset.html#t:Count" title="Math.Combinatorics.Multiset">Count</a>] <a href="src/Math.Combinatorics.Multiset.html#getCounts" class="link">Source</a> <a href="#v:getCounts" class="selflink">#</a></p><div class="doc"><p>Extract just the element counts from a multiset, forgetting the
   elements.</p></div></div><div class="top"><p class="src"><a id="v:size" class="def">size</a> :: <a href="Math-Combinatorics-Multiset.html#t:Multiset" title="Math.Combinatorics.Multiset">Multiset</a> a -&gt; <a href="../base-4.11.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="src/Math.Combinatorics.Multiset.html#size" class="link">Source</a> <a href="#v:size" class="selflink">#</a></p><div class="doc"><p>Compute the total size of a multiset.</p></div></div><a href="#g:3" id="g:3"><h2>Operations</h2></a><div class="top"><p class="src"><a id="v:disjUnion" class="def">disjUnion</a> :: <a href="Math-Combinatorics-Multiset.html#t:Multiset" title="Math.Combinatorics.Multiset">Multiset</a> a -&gt; <a href="Math-Combinatorics-Multiset.html#t:Multiset" title="Math.Combinatorics.Multiset">Multiset</a> a -&gt; <a href="Math-Combinatorics-Multiset.html#t:Multiset" title="Math.Combinatorics.Multiset">Multiset</a> a <a href="src/Math.Combinatorics.Multiset.html#disjUnion" class="link">Source</a> <a href="#v:disjUnion" class="selflink">#</a></p><div class="doc"><p>Form the disjoint union of two multisets; i.e. we assume the two
   multisets share no elements in common.</p></div></div><div class="top"><p class="src"><a id="v:disjUnions" class="def">disjUnions</a> :: [<a href="Math-Combinatorics-Multiset.html#t:Multiset" title="Math.Combinatorics.Multiset">Multiset</a> a] -&gt; <a href="Math-Combinatorics-Multiset.html#t:Multiset" title="Math.Combinatorics.Multiset">Multiset</a> a <a href="src/Math.Combinatorics.Multiset.html#disjUnions" class="link">Source</a> <a href="#v:disjUnions" class="selflink">#</a></p><div class="doc"><p>Form the disjoint union of a collection of multisets.  We assume
   that the multisets all have distinct elements.</p></div></div><a href="#g:4" id="g:4"><h1>Permutations</h1></a><div class="top"><p class="src"><a id="v:permutations" class="def">permutations</a> :: <a href="Math-Combinatorics-Multiset.html#t:Multiset" title="Math.Combinatorics.Multiset">Multiset</a> a -&gt; [[a]] <a href="src/Math.Combinatorics.Multiset.html#permutations" class="link">Source</a> <a href="#v:permutations" class="selflink">#</a></p><div class="doc"><p>List all the distinct permutations of the elements of a
   multiset.</p><p>For example, <code>permutations (fromList &quot;abb&quot;) ==
   [&quot;abb&quot;,&quot;bba&quot;,&quot;bab&quot;]</code>, whereas <code>Data.List.permutations
   &quot;abb&quot; == [&quot;abb&quot;,&quot;bab&quot;,&quot;bba&quot;,&quot;bba&quot;,&quot;bab&quot;,&quot;abb&quot;]</code>.
   This function is equivalent to, but <em>much</em> more efficient than,
   <code>nub . Data.List.permutations</code>, and even works when the elements
   have no <code><a href="../base-4.11.1.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a></code> instance.</p><p>Note that this is a specialized version of <code><a href="Math-Combinatorics-Multiset.html#v:permutationsRLE" title="Math.Combinatorics.Multiset">permutationsRLE</a></code>,
   where each run has been expanded via <code><a href="../base-4.11.1.0/GHC-OldList.html#v:replicate" title="GHC.OldList">replicate</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:permutationsRLE" class="def">permutationsRLE</a> :: <a href="Math-Combinatorics-Multiset.html#t:Multiset" title="Math.Combinatorics.Multiset">Multiset</a> a -&gt; [[(a, <a href="Math-Combinatorics-Multiset.html#t:Count" title="Math.Combinatorics.Multiset">Count</a>)]] <a href="src/Math.Combinatorics.Multiset.html#permutationsRLE" class="link">Source</a> <a href="#v:permutationsRLE" class="selflink">#</a></p><div class="doc"><p>List all the distinct permutations of the elements of a multiset,
   with each permutation run-length encoded. (Note that the
   run-length encoding is a natural byproduct of the algorithm used,
   not a separate postprocessing step.)</p><p>For example, <code>permutationsRLE [(<code>a</code>,1), (<code>b</code>,2)] ==
   [[(<code>a</code>,1),(<code>b</code>,2)],[(<code>b</code>,2),(<code>a</code>,1)],[(<code>b</code>,1),(<code>a</code>,1),(<code>b</code>,1)]]</code>.</p><p>(Note that although the output type is newtype-equivalent to
   <code>[Multiset a]</code>, we don't call it that since the output may
   violate the <code><a href="Math-Combinatorics-Multiset.html#t:Multiset" title="Math.Combinatorics.Multiset">Multiset</a></code> invariant that no element should appear
   more than once.  And indeed, morally this function does not
   output multisets at all.)</p></div></div><a href="#g:5" id="g:5"><h1>Partitions</h1></a><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:Vec" class="def">Vec</a> = [<a href="Math-Combinatorics-Multiset.html#t:Count" title="Math.Combinatorics.Multiset">Count</a>] <a href="src/Math.Combinatorics.Multiset.html#Vec" class="link">Source</a> <a href="#t:Vec" class="selflink">#</a></p><div class="doc"><p>Element count vector.</p></div></div><div class="top"><p class="src"><a id="v:vPartitions" class="def">vPartitions</a> :: <a href="Math-Combinatorics-Multiset.html#t:Vec" title="Math.Combinatorics.Multiset">Vec</a> -&gt; [<a href="Math-Combinatorics-Multiset.html#t:Multiset" title="Math.Combinatorics.Multiset">Multiset</a> <a href="Math-Combinatorics-Multiset.html#t:Vec" title="Math.Combinatorics.Multiset">Vec</a>] <a href="src/Math.Combinatorics.Multiset.html#vPartitions" class="link">Source</a> <a href="#v:vPartitions" class="selflink">#</a></p><div class="doc"><p>Generate all vector partitions, representing each partition as a
   multiset of vectors.</p><p>This code is a slight generalization of the code published in</p><p>Brent Yorgey. &quot;Generating Multiset Partitions&quot;. In: The
     Monad.Reader, Issue 8, September 2007.
     <a href="http://www.haskell.org/sitewiki/images/d/dd/TMR-Issue8.pdf">http://www.haskell.org/sitewiki/images/d/dd/TMR-Issue8.pdf</a></p><p>See that article for a detailed discussion of the code and how it works.</p></div></div><div class="top"><p class="src"><a id="v:partitions" class="def">partitions</a> :: <a href="Math-Combinatorics-Multiset.html#t:Multiset" title="Math.Combinatorics.Multiset">Multiset</a> a -&gt; [<a href="Math-Combinatorics-Multiset.html#t:Multiset" title="Math.Combinatorics.Multiset">Multiset</a> (<a href="Math-Combinatorics-Multiset.html#t:Multiset" title="Math.Combinatorics.Multiset">Multiset</a> a)] <a href="src/Math.Combinatorics.Multiset.html#partitions" class="link">Source</a> <a href="#v:partitions" class="selflink">#</a></p><div class="doc"><p>Efficiently generate all distinct multiset partitions.  Note that
   each partition is represented as a multiset of parts (each of
   which is a multiset) in order to properly reflect the fact that
   some parts may occur multiple times.</p></div></div><a href="#g:6" id="g:6"><h1>Submultisets</h1></a><div class="top"><p class="src"><a id="v:splits" class="def">splits</a> :: <a href="Math-Combinatorics-Multiset.html#t:Multiset" title="Math.Combinatorics.Multiset">Multiset</a> a -&gt; [(<a href="Math-Combinatorics-Multiset.html#t:Multiset" title="Math.Combinatorics.Multiset">Multiset</a> a, <a href="Math-Combinatorics-Multiset.html#t:Multiset" title="Math.Combinatorics.Multiset">Multiset</a> a)] <a href="src/Math.Combinatorics.Multiset.html#splits" class="link">Source</a> <a href="#v:splits" class="selflink">#</a></p><div class="doc"><p>Generate all splittings of a multiset into two submultisets,
   i.e. all size-two partitions.</p></div></div><div class="top"><p class="src"><a id="v:kSubsets" class="def">kSubsets</a> :: <a href="Math-Combinatorics-Multiset.html#t:Count" title="Math.Combinatorics.Multiset">Count</a> -&gt; <a href="Math-Combinatorics-Multiset.html#t:Multiset" title="Math.Combinatorics.Multiset">Multiset</a> a -&gt; [<a href="Math-Combinatorics-Multiset.html#t:Multiset" title="Math.Combinatorics.Multiset">Multiset</a> a] <a href="src/Math.Combinatorics.Multiset.html#kSubsets" class="link">Source</a> <a href="#v:kSubsets" class="selflink">#</a></p><div class="doc"><p>Generate all size-k submultisets.</p></div></div><a href="#g:7" id="g:7"><h1>Cycles and bracelets</h1></a><div class="top"><p class="src"><a id="v:cycles" class="def">cycles</a> :: <a href="Math-Combinatorics-Multiset.html#t:Multiset" title="Math.Combinatorics.Multiset">Multiset</a> a -&gt; [[a]] <a href="src/Math.Combinatorics.Multiset.html#cycles" class="link">Source</a> <a href="#v:cycles" class="selflink">#</a></p><div class="doc"><p>Generate all distinct cycles, aka necklaces, with elements taken
   from a multiset.  See J. Sawada, &quot;A fast algorithm to generate
   necklaces with fixed content&quot;, J. Theor. Comput. Sci. 301 (2003)
   pp. 477-489.</p><p>Given the ordering on the elements of the multiset based on their
   position in the multiset representation (with &quot;smaller&quot;
   elements first), in <code>map reverse (cycles m)</code>, each generated
   cycle is lexicographically smallest among all its cyclic shifts,
   and furthermore, the cycles occur in reverse lexicographic
   order. (It's simply more convenient/efficient to generate the
   cycles reversed in this way, and of course we get the same set of
   cycles either way.)</p><p>For example, <code>cycles (fromList &quot;aabbc&quot;) ==
   [&quot;cabba&quot;,&quot;bcaba&quot;,&quot;cbaba&quot;,&quot;bbcaa&quot;,&quot;bcbaa&quot;,&quot;cbbaa&quot;]</code>.</p></div></div><div class="top"><p class="src"><a id="v:bracelets" class="def">bracelets</a> :: <a href="Math-Combinatorics-Multiset.html#t:Multiset" title="Math.Combinatorics.Multiset">Multiset</a> a -&gt; [[a]] <a href="src/Math.Combinatorics.Multiset.html#bracelets" class="link">Source</a> <a href="#v:bracelets" class="selflink">#</a></p><div class="doc"><p>Generate all distinct bracelets (lists considered equivalent up
   to rotation and reversal) from a given multiset.  The generated
   bracelets are in lexicographic order, and each is
   lexicographically smallest among its rotations and reversals.
   See <code>genFixedBracelets</code> for a slightly more general routine with
   references.</p><p>For example, <code>bracelets $ fromList &quot;RRRRRRRLLL&quot;</code> yields</p><pre>[&quot;LLLRRRRRRR&quot;,&quot;LLRLRRRRRR&quot;,&quot;LLRRLRRRRR&quot;,&quot;LLRRRLRRRR&quot;
,&quot;LRLRLRRRRR&quot;,&quot;LRLRRLRRRR&quot;,&quot;LRLRRRLRRR&quot;,&quot;LRRLRRLRRR&quot;]</pre></div></div><div class="top"><p class="src"><a id="v:genFixedBracelets" class="def">genFixedBracelets</a> :: <a href="../base-4.11.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; [(<a href="../base-4.11.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a>, <a href="../base-4.11.1.0/Data-Int.html#t:Int" title="Data.Int">Int</a>)] -&gt; [Bracelet] <a href="src/Math.Combinatorics.Multiset.html#genFixedBracelets" class="link">Source</a> <a href="#v:genFixedBracelets" class="selflink">#</a></p><div class="doc"><p>An optimized bracelet generation algorithm, based on
   S. Karim et al, &quot;Generating Bracelets with Fixed Content&quot;.
   <a href="http://www.cis.uoguelph.ca/~sawada/papers/fix-brace.pdf">http://www.cis.uoguelph.ca/~sawada/papers/fix-brace.pdf</a></p><p><code>genFixedBracelets n content</code> produces all bracelets (unique up
   to rotation and reflection) of length <code>n</code> using <code>content</code>, which
   consists of a list of pairs where the pair (a,i) indicates that
   element a may be used up to i times.  It is assumed that the elements
   are drawn from [0..k].</p></div></div><a href="#g:8" id="g:8"><h1>Miscellaneous</h1></a><div class="top"><p class="src"><a id="v:sequenceMS" class="def">sequenceMS</a> :: <a href="Math-Combinatorics-Multiset.html#t:Multiset" title="Math.Combinatorics.Multiset">Multiset</a> [a] -&gt; [<a href="Math-Combinatorics-Multiset.html#t:Multiset" title="Math.Combinatorics.Multiset">Multiset</a> a] <a href="src/Math.Combinatorics.Multiset.html#sequenceMS" class="link">Source</a> <a href="#v:sequenceMS" class="selflink">#</a></p><div class="doc"><p>Take a multiset of lists, and select one element from each list
   in every possible combination to form a list of multisets.  We
   assume that all the list elements are distinct.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.20.0</p></div></body></html>