<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Euler.Util.Inf</span><span>
</span><a name="line-2"></a><span>    </span><span class="hs-special">(</span><span> </span><a href="Euler.Util.Inf.html#Inf"><span class="hs-identifier hs-type">Inf</span></a><span>
</span><a name="line-3"></a><span>    </span><span class="hs-special">,</span><span> </span><a href="Euler.Util.Inf.html#fromList"><span class="hs-identifier hs-var">fromList</span></a><span>
</span><a name="line-4"></a><span>    </span><span class="hs-special">,</span><span> </span><a href="Euler.Util.Inf.html#toList"><span class="hs-identifier hs-var">toList</span></a><span>
</span><a name="line-5"></a><span>    </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-6"></a><span>
</span><a name="line-7"></a><span class="hs-keyword">import</span><span> </span><a href="Euler.Prelude.html"><span class="hs-identifier">Euler.Prelude</span></a><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-var">toList</span><span class="hs-special">)</span><span>
</span><a name="line-8"></a><span>
</span><a name="line-9"></a><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-identifier">Data.List.NonEmpty</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="hs-identifier">NE</span><span>
</span><a name="line-10"></a><span>
</span><a name="line-11"></a><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><a name="line-12"></a><span>
</span><a name="line-13"></a><span class="hs-comment">{- |

A wrapper for infinite lists, with typeclasses operating on only the list's
'head'. This is not correct in all circumstances, but is useful for (for
example) tails of an infinite sequence without duplicate elements.

-}</span><span>
</span><a name="line-20"></a><span class="hs-keyword">newtype</span><span> </span><a name="Inf"><a href="Euler.Util.Inf.html#Inf"><span class="hs-identifier">Inf</span></a></a><span> </span><a name="local-6989586621679050676"><a href="#local-6989586621679050676"><span class="hs-identifier">a</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a name="Inf"><a href="Euler.Util.Inf.html#Inf"><span class="hs-identifier">Inf</span></a></a><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">NonEmpty</span><span> </span><a href="#local-6989586621679050676"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span>
</span><a name="line-21"></a><span>
</span><a name="line-22"></a><span class="hs-comment">{- |

&gt;&gt;&gt; show $ fromList [5..]
&quot;Inf (5, ...)&quot;

-}</span><span>
</span><a name="line-28"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">Show</span><span> </span><a href="#local-6989586621679050679"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier hs-type">Show</span><span> </span><span class="hs-special">(</span><a href="Euler.Util.Inf.html#Inf"><span class="hs-identifier hs-type">Inf</span></a><span> </span><a href="#local-6989586621679050679"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span>
</span><a name="line-29"></a><span>  </span><span class="hs-keyword">where</span><span>
</span><a name="line-30"></a><span>    </span><a name="local-8214565720323790000"><span class="hs-identifier">show</span></a><span> </span><span class="hs-special">(</span><a href="Euler.Util.Inf.html#Inf"><span class="hs-identifier hs-var">Inf</span></a><span> </span><span class="hs-special">(</span><a name="local-6989586621679050680"><a href="#local-6989586621679050680"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-operator hs-var">:|</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-string">&quot;Inf (&quot;</span><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-identifier hs-var">show</span><span> </span><a href="#local-6989586621679050680"><span class="hs-identifier hs-var">x</span></a><span> </span><span class="hs-operator hs-var">&lt;&gt;</span><span> </span><span class="hs-string">&quot;, ...)&quot;</span><span>
</span><a name="line-31"></a><span>
</span><a name="line-32"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">Ord</span><span> </span><a href="#local-6989586621679050678"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier hs-type">Ord</span><span> </span><span class="hs-special">(</span><a href="Euler.Util.Inf.html#Inf"><span class="hs-identifier hs-type">Inf</span></a><span> </span><a href="#local-6989586621679050678"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span>
</span><a name="line-33"></a><span>  </span><span class="hs-keyword">where</span><span>
</span><a name="line-34"></a><span>    </span><a name="local-8214565720323790142"><span class="hs-identifier">compare</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">compare</span><span> </span><span class="hs-special">`</span><span class="hs-identifier hs-var">on</span><span class="hs-special">`</span><span> </span><a href="Euler.Util.Inf.html#infHead"><span class="hs-identifier hs-var">infHead</span></a><span>
</span><a name="line-35"></a><span>
</span><a name="line-36"></a><span class="hs-comment">{- |

prop&gt; fromList [5..] == fromList [5..]
prop&gt; fromList [5..] /= fromList [6..]

-}</span><span>
</span><a name="line-42"></a><span class="hs-keyword">instance</span><span> </span><span class="hs-identifier hs-type">Eq</span><span> </span><a href="#local-6989586621679050677"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-identifier hs-type">Eq</span><span> </span><span class="hs-special">(</span><a href="Euler.Util.Inf.html#Inf"><span class="hs-identifier hs-type">Inf</span></a><span> </span><a href="#local-6989586621679050677"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-43"></a><span>    </span><span class="hs-special">(</span><a name="local-3458764513820541095"><span class="hs-operator">==</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-operator hs-var">==</span><span class="hs-special">)</span><span> </span><span class="hs-special">`</span><span class="hs-identifier hs-var">on</span><span class="hs-special">`</span><span> </span><a href="Euler.Util.Inf.html#infHead"><span class="hs-identifier hs-var">infHead</span></a><span>
</span><a name="line-44"></a><span>
</span><a name="line-45"></a><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><a name="line-46"></a><span>
</span><a name="line-47"></a><span class="hs-identifier">fromList</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><a href="#local-6989586621679050683"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Euler.Util.Inf.html#Inf"><span class="hs-identifier hs-type">Inf</span></a><span> </span><a href="#local-6989586621679050683"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-48"></a><a name="fromList"><a href="Euler.Util.Inf.html#fromList"><span class="hs-identifier">fromList</span></a></a><span> </span><a name="local-6989586621679050684"><a href="#local-6989586621679050684"><span class="hs-identifier">xs</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Euler.Util.Inf.html#Inf"><span class="hs-identifier hs-var">Inf</span></a><span> </span><span class="hs-operator hs-var">$</span><span> </span><span class="hs-identifier hs-var">NE.fromList</span><span> </span><a href="#local-6989586621679050684"><span class="hs-identifier hs-var">xs</span></a><span>
</span><a name="line-49"></a><span>
</span><a name="line-50"></a><span class="hs-identifier">toList</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Euler.Util.Inf.html#Inf"><span class="hs-identifier hs-type">Inf</span></a><span> </span><a href="#local-6989586621679050682"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><a href="#local-6989586621679050682"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">]</span><span>
</span><a name="line-51"></a><a name="toList"><a href="Euler.Util.Inf.html#toList"><span class="hs-identifier">toList</span></a></a><span> </span><span class="hs-special">(</span><a href="Euler.Util.Inf.html#Inf"><span class="hs-identifier hs-var">Inf</span></a><span> </span><a name="local-6989586621679050685"><a href="#local-6989586621679050685"><span class="hs-identifier">xs</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier hs-var">NE.toList</span><span> </span><a href="#local-6989586621679050685"><span class="hs-identifier hs-var">xs</span></a><span>
</span><a name="line-52"></a><span>
</span><a name="line-53"></a><span class="hs-identifier">infHead</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Euler.Util.Inf.html#Inf"><span class="hs-identifier hs-type">Inf</span></a><span> </span><a href="#local-6989586621679050681"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679050681"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-54"></a><a name="infHead"><a href="Euler.Util.Inf.html#infHead"><span class="hs-identifier">infHead</span></a></a><span> </span><span class="hs-special">(</span><a href="Euler.Util.Inf.html#Inf"><span class="hs-identifier hs-var">Inf</span></a><span> </span><span class="hs-special">(</span><a name="local-6989586621679050686"><a href="#local-6989586621679050686"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-operator hs-var">:|</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679050686"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-55"></a></pre></body></html>